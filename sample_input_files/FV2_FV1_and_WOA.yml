config:
   dirout: /glade/scratch/mlevy/BGC_diag_plots_for_klindsay.take2/plots
   plot_format: 'png'
   # provide cache information if we marbl-diags invokes esmlab for ann mean / climatology / etc
   # cache_data: True
   #cache_dir: /glade/scratch/mlevy/BGC_diag_plots_for_klindsay/cached_data
   #cache_fmt: zarr
   grid: POP_gx1v7 # grid on which to conduct the analysis
   plot_bias: True

# Collections
data_sources: # Where are we getting data from?
   obs.yml:
      - WOA2013
   datasets.yml:
      # Can not contain same key as obs.yml!
      - PI_control
      - FV2

variables:
   variables.yml:
      - nitrate
      - phosphate
      - oxygen
      - silicate
      - dic
      - alkalinity
      - iron

analysis:
   PI_vs_FV2:
      op: plot_ann_climo # Use ann_climo in data_source if found, otherwise compute from tseries or tslice
      dim_requirements: # move into analysis_ops.py
         - "time:ann_mean"
      sources: # Queries into collections
         - PI_control
         - FV2
      # override config settings on individual analysis level
      config:
         reference: PI_control
   WOA_vs_PI_vs_FV2:
      op: plot_ann_climo # Use ann_climo in data_source if found, otherwise compute from tseries or tslice
      sources:
         - WOA2013
         - PI_control
         - FV2
      variables: # Only necessary if a subset of main variable declaration
         - nitrate
         - phosphate
         - oxygen
         - silicate
      config:
         reference: WOA2013

   # plot_regional_time_series: # Will require tseries or tslice in data_source
   #    dim_requirements: # move into analysis_ops.py
   #       - "nlat:mean"
   #       - "nlon:mean"
   #    sources:
   #       - PI_control
   #       - FV2